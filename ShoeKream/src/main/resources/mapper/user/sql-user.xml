<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC  "-//mybatis.org//DTD Mapper 3.0//EN"
				"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="ShoeKream.user.mapper.userMapper">


	<insert id="insertUser" parameterType="ShoeKream.user.VO.joinVO">
	<![CDATA[
	INSERT INTO sk_user
	(
		userid,
		userpass,
		userpass1,
		username,
		userphone,
		join_datetime
	)VALUES
	(
	#{userid},
	#{userpass},
	#{userpass1},
	#{username},
	#{userphone},
	NOW()
	)	
	]]>
	</insert>
	
	<select id="selectUser" resultType="ShoeKream.user.VO.memberVO" parameterType="ShoeKream.user.VO.loginVO">
	<![CDATA[
	SELECT 
		userid,
		username
	FROM
		sk_user
	WHERE
		userid = #{userid} 
	AND
		userpass=#{userpass}
	]]>
	</select>
	
	<select id="findUserid" resultType="ShoeKream.user.VO.memberVO">
	<![CDATA[
	SELECT 
		userid
	FROM
		sk_user
	WHERE
		username = #{username} 
	AND
		userphone=#{userphone}
	]]>
	</select>
	
	<select id="findUserpass" resultType="ShoeKream.user.VO.memberVO">
	<![CDATA[
	SELECT
		userid
	FROM
		sk_user
	WHERE
	 	username = #{username}
	 And
	 	userphone = #{userphone}
	 And
	 	userid = #{userid}
	]]>

	</select>
	
	<update id="changePassword">
	<![CDATA[
	UPDATE
		sk_user
	SET
		userpass = #{passwordCode}
	WHERE
		userid = #{userid}
	]]>
	
	</update>

</mapper>